{
    "id": "ExtBox1-ext-gen2416",
    "type": "controller",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|init": "",
        "designer|userClassName": "Ball"
    },
    "customConfigs": [],
    "designerId": "8c6f99fe-29e7-4209-af7d-638350f6e65a",
    "$viewOrder": 0,
    "expanded": true,
    "cn": [
        {
            "id": "ExtBox1-ext-gen6441",
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "checkCollisions",
                "designer|params": [
                    "ball"
                ],
                "implHandler": "        var leftPaddle  = MyApp.app.paddleLeft.element.getBox(),\n            rightPaddle = MyApp.app.paddleRight.element.getBox(),\n            ballBox     = ball.getBox(),\n            ballHeight  = ball.getHeight(),\n            collisionX  = false,\n            collisionY  = false,\n            surfaceBox;\n\n        if (!MyApp.app.surface) { \n            MyApp.app.surface = Ext.ComponentQuery.query('viewport > panel')[0].element.down('.x-panel-inner'); \n        }\n        surfaceBox = MyApp.app.surface.getBox();\n\n        //check collision with borders\n        if (ballBox.left < surfaceBox.left) {\n            MyApp.app.dispatch({\n                controller : 'Referee',\n                action     : 'incrementScore',\n                args       : [ true ]\n            });\n\n            return false;\n        }\n        else if (ballBox.right > surfaceBox.right) {\n            MyApp.app.dispatch({\n                controller : 'Referee',\n                action     : 'incrementScore',\n                args       : [ false ]\n            });\n\n            return false;\n        }\n        if (ballBox.top < surfaceBox.top || ballBox.bottom > surfaceBox.bottom) {\n            collisionY = true;\n        }\n        //check collision with paddles\n        if (ballBox.left <= leftPaddle.right && \n        ballBox.left >= leftPaddle.right - 1 &&\n        ballBox.bottom >= leftPaddle.top && \n        ballBox.top <= leftPaddle.bottom) { collisionX = true; }\n\n        else if (ballBox.right >= rightPaddle.left &&\n        ballBox.right <= rightPaddle.left + 1 &&\n        ballBox.bottom >= rightPaddle.top && \n        ballBox.top <= rightPaddle.bottom) { collisionX = true; }\n\n\n        //change ball direction, if necessary\n        this.getDirection(collisionX, collisionY);\n\n        return true;",
                "designer|userClassName": "checkCollisions"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen6629",
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "update",
                "designer|params": [
                    "ball"
                ],
                "implHandler": "        var el  = ball.element,\n            pos = el.getXY(),\n            x, y;\n\n        //calculate new [ x, y ]\n        x = pos[0] - constants.ballX * MyApp.app.direction[0];\n        y = pos[1] - constants.ballY * MyApp.app.direction[1];\n\n        el.setXY([ x, y ]);\n        MyApp.controller.Paddle.prototype.updateCPU([x,y]);\n\n        //check XY coordinates to see if player has scored\n        this.checkCollisions(el);",
                "designer|userClassName": "update"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen11772",
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "getDirection",
                "designer|params": [
                    "collisionX",
                    "collisionY"
                ],
                "implHandler": "        if (collisionX) { MyApp.app.direction[0] *= -1; }\n        if (collisionY) { MyApp.app.direction[1] *= -1; }",
                "designer|userClassName": "getDirection"
            },
            "customConfigs": [],
            "expanded": true
        }
    ]
}